"use strict";define("cartoon-demo/app",["exports","ember","cartoon-demo/resolver","ember-load-initializers","cartoon-demo/config/environment"],function(e,t,n,a,o){var i=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,i=t.default.Application.extend({modulePrefix:o.default.modulePrefix,podModulePrefix:o.default.podModulePrefix,Resolver:n.default}),(0,a.default)(i,o.default.modulePrefix),e.default=i}),define("cartoon-demo/components/comic-panel-canvas",["exports","ember","cartoon-demo/mixins/canvas-drawing"],function(e,t,n){e.default=t.default.Component.extend(n.default,{tagName:"canvas",isRunning:!1,classNames:["panel","comic-panel","comic-panel-canvas"],attributeBindings:["canvasWidth:width","canvasHeight:height"],currentLoop:null,frameNum:0,totalNumOfFrames:5,canvasWidth:500,canvasHeight:500,imgUrl:"img/batguy-sprite-3-2c843d1c49a751c71abf154e57aefae2.png",noRunningLoop:t.default.computed.empty("currentLoop"),createNewLoop:t.default.computed.and("isRunning","noRunningLoop"),setup:t.default.observer("pseudoImg","isRunning",function(){if(this.draw(),this.get("createNewLoop"))this.loop();else{var e=this.get("currentLoop");t.default.run.cancel(e),this.set("currentLoop",null)}}),drawFrame:t.default.observer("frameNum",function(){this.draw()}),dWidth:t.default.computed("canvasHeight","naturalWidth","naturalHeight","totalNumOfFrames",function(){return this.get("canvasHeight")*this.get("naturalWidth")*this.get("totalNumOfFrames")/this.get("naturalHeight")}),draw:function(){var e=this.get("frameNum"),t=this.get("naturalHeight"),n=this.get("totalNumOfFrames")+1,a=t/n*e,o=this.get("naturalWidth"),i=this.get("dWidth"),r=t/n,l=this.get("ctx"),s=this.get("canvasWidth"),m=this.get("canvasHeight"),c=this.get("pseudoImg");l.clearRect(0,0,s,m),l.drawImage(c,0,a,o,r,0,0,i,m)},loop:function(){this.draw(),this.nextFrame();var e=t.default.run.later(this,this.loop,100);this.set("currentLoop",e)},nextFrame:function(){this.get("frameNum")<this.get("totalNumOfFrames")?this.incrementProperty("frameNum"):this.set("frameNum",0)}})}),define("cartoon-demo/components/comic-panel-layer",["exports","ember"],function(e,t){var n=t.default.Component,a=t.default.computed;e.default=n.extend({classNames:["comic-panel-layer"],attributeBindings:["bgImageStyle:style"],bgImage:null,frameNumber:1,bgImageStyle:a("bgImage","frameNumber",function(){return t.default.String.htmlSafe("background-image: url("+this.get("bgImage")+");\n                              background-size: auto "+100*this.get("frameNumber")+"%")}),createKeyFrames:t.default.on("didRender",function(){var e=this.get("keyFrames"),t=(this.get("animationOptions"),this.get("element")),n=this.get("animationOptions"),a=new KeyframeEffect(t,e,n);this.sendAction("frameAction",a)}),animationOptions:a("options.@each",function(){var e=this.get("options");if(e)return e;throw"Your comic-layer's animation options are undefined. Please pass in animation options to build a KeyframeEffect"})})}),define("cartoon-demo/components/comic-panel",["exports","ember"],function(e,t){var n=t.default.Component,a=t.default.computed;e.default=n.extend({classNames:["comic-panel-wrapper"],timeline:document.timeline,isPlaying:!1,keyFramesLength:a("keyFrameEffects.length",function(){return this.get("keyFrameEffects").length}),keyFramesEmpty:a.empty("keyFramesLength"),anyKeyFramesPresent:a.not("keyFramesEmpty"),layerItemsLength:a("layerItems.@each",function(){return this.get("layerItems").length}),keyFrameEffects:[],keyFrameEffectsReady:a("keyFramesLength","layerItemsLength",function(){return this.get("keyFramesLength")===this.get("layerItemsLength")}),setup:function(){if(this.get("keyFrameEffectsReady")){var e=this.get("keyFrameEffects"),t=new GroupEffect(e),n=this.get("timeline").play(t);n.pause(),this.set("animation",n)}},initPanel:t.default.observer("keyFrameEffectsReady",function(){this.get("keyFrameEffectsReady")&&t.default.run.scheduleOnce("afterRender",this,"setup")}),controlAnimation:function(e){this.get("animation")[e]()},actions:{play:function(){this.get("animation").play(),this.set("isPlaying",!0)},pause:function(){this.get("animation").pause(),this.set("isPlaying",!1)},reverse:function(){this.set("isPlaying",!0),this.controlAnimation("reverse")},setKeyFrames:function(e){this.get("keyFrameEffects").pushObject(e)}}})}),define("cartoon-demo/controllers/application",["exports","ember"],function(e,t){e.default=t.default.Controller.extend({routeTitle:t.default.computed("target.url",function(){return"route title"}),actions:{didTransition:function(){var e=t.default.getOwner(this),n=e.lookup("router:main").currentRouteName,a=e.lookup("route:"+n).get("info");console.log(a),this.set("currentRouteTitle",a)}}})}),define("cartoon-demo/controllers/demo-canvas",["exports","ember"],function(e,t){e.default=t.default.Controller.extend({frameNumber:0,animationIsRunning:!1,totalNumOfFrames:5,actions:{incrementFrame:function(){this.get("frameNumber")<this.get("totalNumOfFrames")?this.incrementProperty("frameNumber"):this.set("frameNumber",0)},toggleAnimationPlayState:function(){this.toggleProperty("animationIsRunning")}}})}),define("cartoon-demo/controllers/demo-waapi",["exports","ember"],function(e,t){e.default=t.default.Controller.extend({layers:[{layerType:"comic-panel-layer",layerClass:"scaling-background",layerImage:"/img/panorama-cut-8773e823a6be5e13255ae544d615e36d.png",frameNumber:1,layerKeys:[{backgroundPosition:"0 0",transform:"scale(1.2, 1.2)",filter:"blur(0px)",backgroundSize:"100% auto",opacity:1},{backgroundPosition:"0 bottom",transform:"scale(1, 1)",filter:"blur(2px) saturate(8)",backgroundSize:"100% auto",opacity:.5}],animationOptions:{duration:3e4,fill:"forwards",easing:"linear",iterations:1}},{layerType:"comic-panel-layer",layerImage:"/img/kimwalks-cut-sprite-ecc1252c6df29fb9f3d64a50c35e37a5.png",layerClass:"character",frameNumber:8,layerKeys:[{backgroundPosition:"0 0"},{backgroundPosition:"0 114.275%"}],animationOptions:{duration:1200,fill:"none",direction:"normal",easing:"steps(8)",iterations:1/0}}]})}),define("cartoon-demo/helpers/app-version",["exports","ember","cartoon-demo/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,n,a){function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.hideSha?i.match(a.versionRegExp)[0]:t.hideVersion?i.match(a.shaRegExp)[0]:i}e.appVersion=o;var i=n.default.APP.version;e.default=t.default.Helper.helper(o)}),define("cartoon-demo/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("cartoon-demo/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("cartoon-demo/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","cartoon-demo/config/environment"],function(e,t,n){var a=n.default.APP,o=a.name,i=a.version;e.default={name:"App Version",initialize:(0,t.default)(o,i)}}),define("cartoon-demo/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("cartoon-demo/initializers/data-adapter",["exports","ember"],function(e,t){e.default={name:"data-adapter",before:"store",initialize:function(){}}}),define("cartoon-demo/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,n){e.default={name:"ember-data",initialize:t.default}}),define("cartoon-demo/initializers/export-application-global",["exports","ember","cartoon-demo/config/environment"],function(e,t,n){function a(){var e=arguments[1]||arguments[0];if(n.default.exportApplicationGlobal!==!1){var a;if("undefined"!=typeof window)a=window;else if("undefined"!=typeof global)a=global;else{if("undefined"==typeof self)return;a=self}var o,i=n.default.exportApplicationGlobal;o="string"==typeof i?i:t.default.String.classify(n.default.modulePrefix),a[o]||(a[o]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete a[o]}}))}}e.initialize=a,e.default={name:"export-application-global",initialize:a}}),define("cartoon-demo/initializers/injectStore",["exports","ember"],function(e,t){e.default={name:"injectStore",before:"store",initialize:function(){}}}),define("cartoon-demo/initializers/store",["exports","ember"],function(e,t){e.default={name:"store",after:"ember-data",initialize:function(){}}}),define("cartoon-demo/initializers/transforms",["exports","ember"],function(e,t){e.default={name:"transforms",before:"store",initialize:function(){}}}),define("cartoon-demo/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("cartoon-demo/mixins/canvas-drawing",["exports","ember"],function(e,t){e.default=t.default.Mixin.create({isSmooth:!1,pseudoImg:null,ctx:t.default.computed(function(){return this.get("element").getContext("2d")}),smoothingEnabled:t.default.computed("isSmooth",function(){var e=this.get("isSmooth"),t=this.get("ctx");t.mozImageSmoothingEnabled=e,t.webkitImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e,t.imageSmoothingEnabled=e}),loadImage:t.default.on("init",function(){var e=this,t=new Image;t.onload=function(){e.set("naturalHeight",t.height),e.set("naturalWidth",t.width),e.set("pseudoImg",t),console.log("LOADED PSEUDO IMAGE")},t.src=this.get("imgUrl")}),drawFrame:function(e,t,n,a){var o=this.get("ctx");o.clearRect(0,0,n,a),o.drawImage(e,0,t,n,a,0,0,n,a)},pause:function(){this.get("timeline").pause()},reverse:function(){this.get("timeline").reverse()}})}),define("cartoon-demo/models/frame",["exports","ember","cartoon-demo/mixins/canvas-drawing"],function(e,t,n){e.default=t.default.Object.extend(n.default,{frameHeight:null,imgSrc:null,init:function(){var e=this,t=new Image;return t.onload=function(){e.set("naturalHeight",t.height),e.set("naturalWidth",t.width),e.set("pseudoImg",t),console.log("psudeoImg in init? "+e.get("pseudoImg"))},t.src=this.get("imgSrc"),this._super.apply(this,arguments)},render:function(){}})}),define("cartoon-demo/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("cartoon-demo/router",["exports","ember","cartoon-demo/config/environment"],function(e,t,n){var a=t.default.Router.extend({location:n.default.locationType,rootURL:n.default.rootURL});a.map(function(){this.route("demo-canvas"),this.route("demo-waapi")}),e.default=a}),define("cartoon-demo/routes/demo-canvas",["exports","ember"],function(e,t){e.default=t.default.Route.extend({})}),define("cartoon-demo/routes/demo-waapi",["exports","ember"],function(e,t){e.default=t.default.Route.extend({})}),define("cartoon-demo/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("cartoon-demo/templates/application",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"7GjWnhwb",block:'{"statements":[["open-element","main",[]],["static-attr","class","reveal"],["flush-element"],["text","\\n  "],["open-element","section",[]],["static-attr","class","container demos"],["flush-element"],["text","\\n    "],["append",["unknown",["outlet"]],false],["text","\\n  "],["close-element"],["text","\\n"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/application.hbs"}})}),define("cartoon-demo/templates/components/comic-panel-canvas",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"6iLF3xXB",block:'{"statements":[],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/components/comic-panel-canvas.hbs"}})}),define("cartoon-demo/templates/components/comic-panel-layer",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"Dq2hlWRN",block:'{"statements":[["yield","default"],["text","\\n"]],"locals":[],"named":[],"yields":["default"],"blocks":[],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/components/comic-panel-layer.hbs"}})}),define("cartoon-demo/templates/components/comic-panel",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"MJIFt496",block:'{"statements":[["open-element","div",[]],["static-attr","class","comic-panel panel"],["flush-element"],["text","\\n"],["block",["each"],[["get",["layerItems"]]],null,2],["close-element"],["text","\\n"],["open-element","div",[]],["static-attr","class","row mt-1"],["flush-element"],["text","\\n"],["block",["if"],[["get",["isPlaying"]]],null,1,0],["close-element"],["text"," \\nKeyframes ready "],["append",["unknown",["keyFrameEffectsReady"]],false],["text","\\n\\n"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","    "],["open-element","button",[]],["static-attr","class","pull-right"],["modifier",["action"],[["get",[null]],"play"]],["flush-element"],["text","Play"],["close-element"],["text","\\n"]],"locals":[]},{"statements":[["text","    "],["open-element","button",[]],["static-attr","class","pull-right"],["modifier",["action"],[["get",[null]],"pause"]],["flush-element"],["text","Pause"],["close-element"],["text","\\n"]],"locals":[]},{"statements":[["text","  "],["append",["helper",["component"],[["get",["layer","layerType"]]],[["classNames","bgImage","keyFrames","frameNumber","options","frameAction"],[["get",["layer","layerClass"]],["get",["layer","layerImage"]],["get",["layer","layerKeys"]],["get",["layer","frameNumber"]],["get",["layer","animationOptions"]],["helper",["action"],[["get",[null]],"setKeyFrames"],null]]]],false],["text","\\n"]],"locals":["layer"]}],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/components/comic-panel.hbs"}})}),define("cartoon-demo/templates/demo-canvas",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"IubiZomC",block:'{"statements":[["open-element","section",[]],["static-attr","class","row mt-1"],["flush-element"],["text","\\n  "],["append",["helper",["comic-panel-canvas"],null,[["frameNum","totalNumOfFrames","isRunning"],[["get",["frameNumber"]],["get",["totalNumOfFrames"]],["get",["animationIsRunning"]]]]],false],["text","\\n  "],["open-element","div",[]],["static-attr","class","col s12 m3 pull-right mt-1"],["flush-element"],["text","\\n    "],["open-element","p",[]],["static-attr","class","white-text"],["flush-element"],["text","Frame "],["append",["unknown",["frameNumber"]],false],["close-element"],["text","\\n    "],["open-element","button",[]],["modifier",["action"],[["get",[null]],"incrementFrame"]],["flush-element"],["text","Frame +"],["close-element"],["text","\\n    "],["open-element","hr",[]],["flush-element"],["close-element"],["text","\\n    "],["open-element","button",[]],["modifier",["action"],[["get",[null]],"toggleAnimationPlayState"]],["flush-element"],["append",["helper",["if"],[["get",["animationIsRunning"]],"Pause","Play"],null],false],["close-element"],["text","\\n  "],["close-element"],["text","\\n"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/demo-canvas.hbs"}})}),define("cartoon-demo/templates/demo-waapi",["exports"],function(e){e.default=Ember.HTMLBars.template({id:"tnWUyVnZ",block:'{"statements":[["open-element","section",[]],["static-attr","class","row mt-1"],["flush-element"],["text","\\n  "],["append",["helper",["comic-panel"],null,[["layerItems","isPlaying"],[["get",["layers"]],["get",["isAnimationPlaying"]]]]],false],["text","\\n"],["close-element"],["text","\\n\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"cartoon-demo/templates/demo-waapi.hbs"}})}),define("cartoon-demo/config/environment",["ember"],function(e){try{var t="cartoon-demo/config/environment",n=document.querySelector('meta[name="'+t+'"]').getAttribute("content"),a=JSON.parse(unescape(n)),o={default:a};return Object.defineProperty(o,"__esModule",{value:!0}),o}catch(e){throw new Error('Could not read config from meta tag with name "'+t+'".')}}),runningTests||require("cartoon-demo/app").default.create({name:"cartoon-demo",version:"0.0.0+bace593b"});